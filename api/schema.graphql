scalar GraphQLDate

type Candidate {
    _id: ID!
    name: String!
    surname: String!
}

type Participant {
    _id: ID!    
    email: String!
}

input CandidateInputs {
    name: String!
    surname: String!
}

input CandidateUpdateInputs {
    name: String
    surname: String
}

input ParticipantInputs {
    email: String!
}

input ParticipantUpdateInputs {
    email: String!
}

enum StatusType {
    New
    Assigned
    Fixed
    Closed
}

type Issue {
    _id: ID!
    id: Int!
    title: String!
    status: StatusType!
    owner: String
    effort: Int
    created: GraphQLDate!
    due: GraphQLDate
    description: String
}

type Query {
    about: String!
    issueList(
        status: StatusType
        effortMin: Int
        effortMax: Int
        ): [Issue!]!
    issue(id: Int!): Issue!
    candidateList: [Candidate!]!
    participantList: [Participant!]!
    electionTitle: String!
    sendRegisterPublicKeysMail: Boolean!
}

"Toned down Issue, used as inputs, without server generated values"
input IssueInputs {
    title: String!
    "Optional, if not supplied, will be set to 'New'"
    status: StatusType = New
    owner: String
    effor: Int
    due: GraphQLDate
    description: String
}

"""Inputs fro issueUpdate: all are optional. Whichever is 
specifed will be set to the given value, undeinfed fields will remain m
unmodified.
"""
input IssueUpdateInputs {
    title: String
    status: StatusType
    owner: String
    effort: Int
    due: GraphQLDate
    description: String
}

type Mutation {
    setAboutMessage(message: String!) : String
    issueAdd(issue: IssueInputs!) : Issue!
    issueUpdate(id : Int!, changes: IssueUpdateInputs!): Issue!
    issueDelete(id : Int!): Boolean!
    addCandiate(candidate: CandidateInputs!) : Candidate!
    updateCandidate(_id : ID!, changes: CandidateUpdateInputs!) : Candidate!
    removeCandidate(_id : ID!) : Boolean!
    addParticipant(participant : ParticipantInputs!) : Participant!
    removeParticipant(_id : ID!) : Boolean!
    updateParticipant(_id : ID!, changes: ParticipantUpdateInputs!) : Participant!
    updateElectionTitle(title: String!) : String!
}
